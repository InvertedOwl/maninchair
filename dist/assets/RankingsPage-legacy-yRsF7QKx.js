System.register(["./index-legacy-oh_jOjKC.js"],(function(e,a){"use strict";var l,t,o,n,s,i,u,r,c,v,d,f,m,h,p,b,g,_,T,P,k,A,y,w,W,x,D,S,E,M,R,V,G;return{setters:[e=>{l=e._,t=e.r,o=e.o,n=e.a,s=e.c,i=e.w,u=e.u,r=e.b,c=e.I,v=e.d,d=e.e,f=e.f,m=e.g,h=e.h,p=e.i,b=e.j,g=e.n,_=e.k,T=e.l,P=e.m,k=e.p,A=e.F,y=e.q,w=e.s,W=e.t,x=e.v,D=e.x,S=e.y,E=e.z,M=e.A,R=e.B,V=e.C,G=e.D}],execute:function(){var a=document.createElement("style");a.textContent="#container[data-v-e7e0c9b3]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container strong[data-v-e7e0c9b3]{font-size:20px;line-height:26px}#container p[data-v-e7e0c9b3]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-e7e0c9b3]{text-decoration:none}.selects-container *[data-v-e7e0c9b3]{margin-right:20px;margin-left:20px;width:300px}h1[data-v-e7e0c9b3]{width:100%;text-align:center}.italic-text[data-v-e7e0c9b3]{font-style:italic;font-weight:600}.center[data-v-e7e0c9b3]{display:flex;justify-content:center;width:100%}ion-accordion-group[data-v-e7e0c9b3]{width:95%}h2[data-v-e7e0c9b3]{font-size:30px;margin-right:15px}.grid-container[data-v-e7e0c9b3]{display:grid;grid-template-columns:1fr 1fr;gap:10px}\n",document.head.appendChild(a);const Z={class:"selects-container"},C=(e=>(V("data-v-e7e0c9b3"),e=e(),G(),e))((()=>p("h1",null," Rankings ",-1))),H={class:"center"},L={class:"ion-padding",slot:"content"};e("default",l({__name:"RankingsPage",setup(e){const a=t({}),l=t([]),V=t(""),G=t(""),I=t(""),z=t(""),U=[["division","Division"],["rank","Rank"],["wp","WP"],["ap","AP"],["sp","SP"],["wins","Win"],["losses","Losses"],["ties","Ties"],["winPct","Win Percentage"],["numMatches","Number of matches"],["totalPoints","Total Points"],["avgPoints","Average Points"],["highScore","High Score"],["totalElevation","Total Elevation"],["totalAuto","Total Auto"],["totalAutoWp","Total Auto WP"],["totalGoalTriballs","Total Goal Triballs"],["totalZoneTriballs","Total Zone Triballs"]];function O(e){let a=e+"=",l=decodeURIComponent(document.cookie).split(";");for(let t=0;t<l.length;t++){let e=l[t];for(;" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(a))return e.substring(a.length,e.length)}return""}async function j(){const e=await fetch("/data/rankings?event="+O("event")),t=await e.json(),o=await fetch("/data/matches?event="+O("event")),n=await o.json();l.value=t,a.value=n,l.value=l.value.sort(((e,a)=>e.rank-a.rank)),l.value.forEach((e=>{let l=0,t=0,o=0,n=0,s=0;a.value.forEach((a=>{const i=JSON.parse(a.data),u=i.info.alliances[0].teams,r=i.info.alliances[1].teams;if(u[0].number==e.teamnum||u[1].number==e.teamnum&&"SCORED"==i.info.state)try{console.log(),l+=i.scoreData.alliances[0].scoreTypes.find((e=>"auto"===e.name)).val,t+=i.scoreData.alliances[0].scoreTypes.find((e=>"auto_wp"===e.name)).val,o+=i.scoreData.alliances[0].scoreTypes.find((e=>"goal_triballs"===e.name)).val,n+=i.scoreData.alliances[0].scoreTypes.find((e=>"zone_triballs"===e.name)).val,u[0].number==e.teamnum&&(s+=i.scoreData.alliances[0].scoreTypes.find((e=>"elevation_tier_1"===e.name)).val),u[1].number==e.teamnum&&(s+=i.scoreData.alliances[0].scoreTypes.find((e=>"elevation_tier_2"===e.name)).val)}catch(c){}if(r[0].number==e.teamnum||r[1].number==e.teamnum&&"SCORED"==i.info.state)try{console.log(),l+=i.scoreData.alliances[1].scoreTypes.find((e=>"auto"===e.name)).val,t+=i.scoreData.alliances[1].scoreTypes.find((e=>"auto_wp"===e.name)).val,o+=i.scoreData.alliances[1].scoreTypes.find((e=>"goal_triballs"===e.name)).val,n+=i.scoreData.alliances[1].scoreTypes.find((e=>"zone_triballs"===e.name)).val,r[0].number==e.teamnum&&(s+=i.scoreData.alliances[1].scoreTypes.find((e=>"elevation_tier_1"===e.name)).val),r[1].number==e.teamnum&&(s+=i.scoreData.alliances[1].scoreTypes.find((e=>"elevation_tier_2"===e.name)).val)}catch(c){}})),e.totalElevation=s,e.totalAuto=l,e.totalAutoWp=t,e.totalGoalTriballs=o,e.totalZoneTriballs=n})),N()}o((async()=>{j(),setInterval(j,5e3)}));let B=!0;function N(){console.log(G.value),console.log(V.value),console.log(I.value);const e="HighToLow"==I.value?1:-1;if(B)switch(console.log("Sort stats"),V.value){case"WinLoss":l.value=l.value.sort(((a,l)=>(l.wins-l.losses-(a.wins-a.losses))*e));break;case"WP":case"WinPoints":l.value=l.value.sort(((a,l)=>(l.wp-a.wp)*e));break;case"AP":l.value=l.value.sort(((a,l)=>(l.ap-a.ap)*e));break;case"SP":l.value=l.value.sort(((a,l)=>(l.sp-a.sp)*e));break;case"HighPoints":l.value=l.value.sort(((a,l)=>(l.highScore-a.highScore)*e));break;default:l.value=l.value.sort(((a,l)=>(a.rank-l.rank)*e))}else if("Total"==z.value)switch(G.value){case"ZoneTriball":l.value=l.value.sort(((a,l)=>(l.totalZoneTriballs-a.totalZoneTriballs)*e));break;case"GoalTriball":l.value=l.value.sort(((a,l)=>(l.totalGoalTriballs-a.totalGoalTriballs)*e));break;case"AutoWin":l.value=l.value.sort(((a,l)=>(l.totalAuto-a.totalAuto)*e));break;case"AutoWP":l.value=l.value.sort(((a,l)=>(l.totalAutoWp-a.totalAutoWp)*e));break;case"Elevation":l.value=l.value.sort(((a,l)=>(l.totalElevation-a.totalElevation)*e));break;case"Points":l.value=l.value.sort(((a,l)=>(l.totalPoints-a.totalPoints)*e))}else switch(G.value){case"ZoneTriball":l.value=l.value.sort(((a,l)=>(l.totalZoneTriballs/l.numMathces-a.totalZoneTriballs/a.numMathces)*e));break;case"GoalTriball":l.value=l.value.sort(((a,l)=>(l.totalGoalTriballs/l.numMathces-a.totalGoalTriballs/a.numMathces)*e));break;case"AutoWin":l.value=l.value.sort(((a,l)=>(l.totalAuto/l.numMathces-a.totalAuto/a.numMathces)*e));break;case"AutoWP":l.value=l.value.sort(((a,l)=>(l.totalAutoWp/l.numMathces-a.totalAutoWp/a.numMathces)*e));break;case"Elevation":l.value=l.value.sort(((a,l)=>(l.totalElevation/l.numMathces-a.totalElevation/a.numMathces)*e));break;case"Points":l.value=l.value.sort(((a,l)=>(l.avgPoints-a.avgPoints)*e))}}return(e,a)=>(n(),s(u(w),null,{default:i((()=>[r(u(h),{translucent:!0},{default:i((()=>[r(u(c),null,{default:i((()=>[r(u(v),{slot:"start"},{default:i((()=>[r(u(d),{color:"primary"})])),_:1}),r(u(f),null,{default:i((()=>[m("Rankings")])),_:1})])),_:1})])),_:1}),r(u(y),{fullscreen:!0},{default:i((()=>[r(u(h),{collapse:"condense"},{default:i((()=>[r(u(c),null,{default:i((()=>[r(u(f),{size:"large"},{default:i((()=>[m("Rankings")])),_:1})])),_:1})])),_:1}),p("div",Z,[r(u(b),{label:"Stats Sort By",class:g({"italic-text":u(B)}),interface:"popover",placeholder:"Default",onIonChange:a[0]||(a[0]=e=>(B=!0,void N())),modelValue:V.value,"onUpdate:modelValue":a[1]||(a[1]=e=>V.value=e)},{default:i((()=>[r(u(_),{value:"Default"},{default:i((()=>[m("Default")])),_:1}),r(u(_),{value:"Rank"},{default:i((()=>[m("Rank")])),_:1}),r(u(_),{value:"WinLoss"},{default:i((()=>[m("Win Loss Ratio")])),_:1}),r(u(_),{value:"WP"},{default:i((()=>[m("Total Win Points")])),_:1}),r(u(_),{value:"AP"},{default:i((()=>[m("Auto Points")])),_:1}),r(u(_),{value:"SP"},{default:i((()=>[m("Strength Points")])),_:1}),r(u(_),{value:"HighPoints"},{default:i((()=>[m("High Score Points")])),_:1}),r(u(_),{value:"WinPoints"},{default:i((()=>[m("Win Points")])),_:1})])),_:1},8,["class","modelValue"]),r(u(b),{label:"Scores Sort By",class:g({"italic-text":!u(B)}),interface:"popover",placeholder:"Default",onIonChange:a[2]||(a[2]=e=>(B=!1,void N())),modelValue:G.value,"onUpdate:modelValue":a[3]||(a[3]=e=>G.value=e)},{default:i((()=>[r(u(_),{value:"Default"},{default:i((()=>[m("Default")])),_:1}),r(u(_),{value:"ZoneTriball"},{default:i((()=>[m("Zone Triballs")])),_:1}),r(u(_),{value:"GoalTriball"},{default:i((()=>[m("Goal Triballs")])),_:1}),r(u(_),{value:"AutoWin"},{default:i((()=>[m("Auto Wins")])),_:1}),r(u(_),{value:"AutoWP"},{default:i((()=>[m("Auto Win Points")])),_:1}),r(u(_),{value:"Elevation"},{default:i((()=>[m("Elevation")])),_:1}),r(u(_),{value:"Points"},{default:i((()=>[m("Points")])),_:1})])),_:1},8,["class","modelValue"]),r(u(b),{label:"Direction",interface:"popover",placeholder:"Unset",value:"LowToHigh",onIonChange:a[4]||(a[4]=e=>N()),modelValue:I.value,"onUpdate:modelValue":a[5]||(a[5]=e=>I.value=e)},{default:i((()=>[r(u(_),{value:"HighToLow"},{default:i((()=>[m("High To Low")])),_:1}),r(u(_),{value:"LowToHigh"},{default:i((()=>[m("Low To High")])),_:1})])),_:1},8,["modelValue"]),r(u(b),{label:"Type",interface:"popover",placeholder:"Unset",value:"Total",onIonChange:a[6]||(a[6]=e=>N()),modelValue:z.value,"onUpdate:modelValue":a[7]||(a[7]=e=>z.value=e)},{default:i((()=>[r(u(_),{value:"Total"},{default:i((()=>[m("Total")])),_:1}),r(u(_),{value:"Average"},{default:i((()=>[m("Average")])),_:1})])),_:1},8,["modelValue"])]),C,p("div",H,[r(u(T),null,{default:i((()=>[p("div",null,[(n(!0),P(A,null,k(l.value,(e=>(n(),s(u(W),{value:l.value.indexOf(e)},{default:i((()=>[r(u(x),{slot:"header",color:"light"},{default:i((()=>[r(u(D),{style:{display:"flex","flex-direction":"row"}},{default:i((()=>[p("h2",null,S(l.value.indexOf(e)+1),1),p("div",null,[p("div",null,[m(S(e.teamnum)+" ",1),r(u(E),null,{default:i((()=>[m(S(e.division),1)])),_:2},1024)]),p("div",null," Division Rank: "+S(e.rank),1)])])),_:2},1024)])),_:2},1024),p("div",L,[p("div",null,[r(u(M),{class:"grid-container"},{default:i((()=>[(n(),P(A,null,k(U,(a=>r(u(x),{class:"grid-item"},{default:i((()=>[m(S(a[1])+" "+S(e[a[0]]),1)])),_:2},1024))),64)),r(u(R),{href:"teams?team="+e.teamnum},{default:i((()=>[m("Team Analysis")])),_:2},1032,["href"]),r(u(R),{href:"matchups?team="+e.teamnum},{default:i((()=>[m("Team Matchups")])),_:2},1032,["href"])])),_:2},1024)])])])),_:2},1032,["value"])))),256))])])),_:1})])])),_:1})])),_:1}))}},[["__scopeId","data-v-e7e0c9b3"]]))}}}));
