import{_ as Z,r as D,o as z,a as k,c as L,w as o,u as l,b as r,I as N,d as J,e as j,f as R,g as f,h as M,i as d,v as h,y as _,m as x,p as W,F as B,q as F,s as H,A as Y,C as q,D as K}from"./index-zA2xo0Ot.js";/* empty css                                                  */const P=b=>(q("data-v-f89e55e5"),b=b(),K(),b),Q={class:"split"},X={class:"left"},$=P(()=>d("div",null,null,-1)),ee={style:{margin:"0",padding:"0"}},ae=P(()=>d("br",null,null,-1)),te=P(()=>d("br",null,null,-1)),ne=["href"],se={__name:"TeamsPage",setup(b){const g=D({});D({});const i=D(T("team")),E=new URLSearchParams(window.location.search);E.has("team")?i.value=E.get("team"):i.value=T("team");function O(){const t=[];g.value.forEach(n=>{const u=JSON.parse(n.data),e=u.info.alliances;u.info.state!="UNPLAYED"&&(e[0].teams[0].number==i.value&&t.push(e[0].teams[1].number),e[0].teams[1].number==i.value&&t.push(e[0].teams[0].number),e[1].teams[0].number==i.value&&t.push(e[1].teams[1].number),e[1].teams[1].number==i.value&&t.push(e[1].teams[0].number))});let c=0;return p.value.forEach(n=>{t.includes(n.teamnum)&&(c+=n.rank)}),Math.round(c/t.length*100)/100}function U(){const t=[];g.value.forEach(n=>{const u=JSON.parse(n.data),e=u.info.alliances;u.info.state!="UNPLAYED"&&((e[0].teams[0].number==i.value||e[0].teams[1].number==i.value)&&(t.push(e[1].teams[0].number),t.push(e[1].teams[1].number)),(e[1].teams[0].number==i.value||e[1].teams[1].number==i.value)&&(t.push(e[0].teams[0].number),t.push(e[0].teams[1].number)))});let c=0;return p.value.forEach(n=>{t.includes(n.teamnum)&&(c+=n.rank)}),Math.round(c/t.length*100)/100}const p=D([]),G=[["division","Division"],["rank","Rank"],["wp","WP"],["ap","AP"],["sp","SP"],["wins","Win"],["losses","Losses"],["ties","Ties"],["winPct","Win Percentage"],["numMatches","Number of matches"],["totalPoints","Total Points"],["avgPoints","Average Points"],["highScore","High Score"],["totalElevation","Total Elevation"],["totalAuto","Total Auto"],["totalAutoWp","Total Auto WP"],["totalGoalTriballs","Total Goal Triballs"],["totalZoneTriballs","Total Zone Triballs"]];function T(t){let c=t+"=",u=decodeURIComponent(document.cookie).split(";");for(let e=0;e<u.length;e++){let m=u[e];for(;m.charAt(0)==" ";)m=m.substring(1);if(m.indexOf(c)==0)return m.substring(c.length,m.length)}return""}z(async()=>{C(),setInterval(C,5e3)});async function C(){const c=await(await fetch("/data/rankings?event="+T("event"))).json(),u=await(await fetch("/data/matches?event="+T("event"))).json();p.value=c,g.value=u,p.value.forEach(e=>{let m=0,S=0,A=0,I=0,v=0;g.value.forEach(V=>{const s=JSON.parse(V.data),y=s.info.alliances[0].teams,w=s.info.alliances[1].teams;if(y[0].number==e.teamnum||y[1].number==e.teamnum&&s.info.state=="SCORED")try{m+=s.scoreData.alliances[0].scoreTypes.find(a=>a.name==="auto").val,S+=s.scoreData.alliances[0].scoreTypes.find(a=>a.name==="auto_wp").val,A+=s.scoreData.alliances[0].scoreTypes.find(a=>a.name==="goal_triballs").val,I+=s.scoreData.alliances[0].scoreTypes.find(a=>a.name==="zone_triballs").val,y[0].number==e.teamnum&&(v+=s.scoreData.alliances[0].scoreTypes.find(a=>a.name==="elevation_tier_1").val),y[1].number==e.teamnum&&(v+=s.scoreData.alliances[0].scoreTypes.find(a=>a.name==="elevation_tier_2").val)}catch(a){}if(w[0].number==e.teamnum||w[1].number==e.teamnum&&s.info.state=="SCORED")try{m+=s.scoreData.alliances[1].scoreTypes.find(a=>a.name==="auto").val,S+=s.scoreData.alliances[1].scoreTypes.find(a=>a.name==="auto_wp").val,A+=s.scoreData.alliances[1].scoreTypes.find(a=>a.name==="goal_triballs").val,I+=s.scoreData.alliances[1].scoreTypes.find(a=>a.name==="zone_triballs").val,w[0].number==e.teamnum&&(v+=s.scoreData.alliances[1].scoreTypes.find(a=>a.name==="elevation_tier_1").val),w[1].number==e.teamnum&&(v+=s.scoreData.alliances[1].scoreTypes.find(a=>a.name==="elevation_tier_2").val)}catch(a){}}),e.totalElevation=v,e.totalAuto=m,e.totalAutoWp=S,e.totalGoalTriballs=A,e.totalZoneTriballs=I})}return(t,c)=>(k(),L(l(H),null,{default:o(()=>[r(l(M),{translucent:!0},{default:o(()=>[r(l(N),null,{default:o(()=>[r(l(J),{slot:"start"},{default:o(()=>[r(l(j),{color:"primary"})]),_:1}),r(l(R),null,{default:o(()=>[f("Team Analysis")]),_:1})]),_:1})]),_:1}),r(l(F),{fullscreen:!0},{default:o(()=>[r(l(M),{collapse:"condense"},{default:o(()=>[r(l(N),null,{default:o(()=>[r(l(R),{size:"large"},{default:o(()=>[f("Team Analysis")]),_:1})]),_:1})]),_:1}),d("div",Q,[d("div",X,[$,r(l(h),{style:{width:"100%","text-align":"center"}},{default:o(()=>[d("h1",null,_(i.value)+" Analysis",1),(k(!0),x(B,null,W(p.value.filter(n=>n.teamnum==i.value),n=>(k(),L(l(h),{key:n.teamnum},{default:o(()=>[d("div",ee,[r(l(Y),{class:"grid-container",style:{margin:"0",padding:"0"}},{default:o(()=>[(k(),x(B,null,W(G,u=>r(l(h),{style:{margin:"0",padding:"0"},class:"grid-item"},{default:o(()=>[f(_(u[1])+" "+_(n[u[0]]),1)]),_:2},1024)),64)),r(l(h),null,{default:o(()=>[f(" Carried Score "),ae,f("(Lower is carried) "+_(O()),1)]),_:1}),r(l(h),null,{default:o(()=>[f(" Unlucky Score "),te,f(" (Lower is unlucky) "+_(U()),1)]),_:1})]),_:2},1024)]),d("a",{href:"https://www.robotevents.com/teams/VRC/"+i.value,target:"_blank"}," RobotEvents Link ",8,ne)]),_:2},1024))),128))]),_:1})])])]),_:1})]),_:1}))}},re=Z(se,[["__scopeId","data-v-f89e55e5"]]);export{re as default};
